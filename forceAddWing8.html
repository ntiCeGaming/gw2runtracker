<!DOCTYPE html><html lang=en><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0"><title>Force Add Wing 8</title><style>body{color:#e0e0e0;background-color:#1e1e1e;max-width:800px;margin:0 auto;padding:20px;font-family:Arial,sans-serif}h1{color:#c02c38}#results{white-space:pre-wrap;background-color:#2a2a2a;border-radius:5px;height:300px;margin-top:20px;padding:15px;font-family:monospace;overflow-y:auto}button{color:#fff;cursor:pointer;background-color:#c02c38;border:none;border-radius:4px;margin-bottom:10px;margin-right:10px;padding:10px 20px;font-size:16px}button:hover{background-color:#a02530}.success{color:#4caf50;font-weight:700}.error{color:#f44336;font-weight:700}.warning{color:#ff9800;font-weight:700}.info{color:#2196f3}</style><body>
  <h1>Force Add Wing 8 to Database</h1>
  <p>This tool will completely reset the database and add all wings including Wing 8.</p>
  <p class=warning>Warning: This will delete all existing data in the database!</p>
  
  <button id=resetBtn>Reset Database and Add Wing 8</button>
  <button id=backBtn>Back to App</button>
  
  <div id=results></div>
  
  <script>let resultsDiv=document.getElementById("results");function log(e,t="info"){console.log(e);let i="object"==typeof e?JSON.stringify(e,null,2):e;resultsDiv.innerHTML+=`<div class="${"error"===t?"error":"success"===t?"success":"warning"===t?"warning":"info"}">${i}</div>`,resultsDiv.scrollTop=resultsDiv.scrollHeight}function forceAddWing8(){log("Starting force add Wing 8 script...","info");let e=indexedDB.open("RaidTrackerDatabase",1);e.onerror=function(e){log("Database error: "+e.target.error,"error")},e.onupgradeneeded=function(e){let t=e.target.result;if(log("Database upgrade needed - creating object stores","info"),t.objectStoreNames.contains("raidWings")||(t.createObjectStore("raidWings",{keyPath:"id",autoIncrement:!0}).createIndex("name","name",{unique:!1}),log("Created raidWings object store","success")),!t.objectStoreNames.contains("raidSteps")){let e=t.createObjectStore("raidSteps",{keyPath:"id",autoIncrement:!0});e.createIndex("raidWingId","raidWingId",{unique:!1}),e.createIndex("order","order",{unique:!1}),log("Created raidSteps object store","success")}if(!t.objectStoreNames.contains("deathEvents")){let e=t.createObjectStore("deathEvents",{keyPath:"id",autoIncrement:!0});e.createIndex("runId","runId",{unique:!1}),e.createIndex("timestamp","timestamp",{unique:!1}),log("Created deathEvents object store","success")}if(!t.objectStoreNames.contains("raidRuns")){let e=t.createObjectStore("raidRuns",{keyPath:"id",autoIncrement:!0});e.createIndex("raidWingId","raidWingId",{unique:!1}),e.createIndex("startTime","startTime",{unique:!1}),e.createIndex("status","status",{unique:!1}),log("Created raidRuns object store","success")}},e.onsuccess=function(e){let t=e.target.result;if(log("Database opened successfully","success"),!t.objectStoreNames.contains("raidWings"))return void log("raidWings object store not found - this should not happen after upgrade","error");let i=t.transaction(["raidWings"],"readwrite"),a=i.objectStore("raidWings"),n=a.getAll();n.onsuccess=function(){log("Found "+n.result.length+" raid wings","info"),log("Deleting all wings...","warning"),a.clear().onsuccess=function(){log("All wings deleted","success");let e=[{name:"Spirit Vale (Wing 1)",description:"The first raid wing in Guild Wars 2, featuring Vale Guardian, Gorseval, and Sabetha.",bosses:["Vale Guardian","Gorseval the Multifarious","Sabetha the Saboteur"],imageUrl:"https://wiki.guildwars2.com/images/thumb/5/54/Spirit_Vale_loading_screen.jpg/300px-Spirit_Vale_loading_screen.jpg"},{name:"Salvation Pass (Wing 2)",description:"The second raid wing, featuring Slothasor, Bandit Trio, and Matthias Gabrel.",bosses:["Slothasor","Bandit Trio","Matthias Gabrel"],imageUrl:"https://wiki.guildwars2.com/images/thumb/5/5a/Salvation_Pass_loading_screen.jpg/300px-Salvation_Pass_loading_screen.jpg"},{name:"Stronghold of the Faithful (Wing 3)",description:"The third raid wing, featuring Escort, Keep Construct, Twisted Castle, and Xera.",bosses:["Escort","Keep Construct","Xera"],imageUrl:"https://wiki.guildwars2.com/images/thumb/b/b8/Stronghold_of_the_Faithful_loading_screen.jpg/300px-Stronghold_of_the_Faithful_loading_screen.jpg"},{name:"Bastion of the Penitent (Wing 4)",description:"The fourth raid wing, featuring Cairn, Mursaat Overseer, Samarog, and Deimos.",bosses:["Cairn the Indomitable","Mursaat Overseer","Samarog","Deimos"],imageUrl:"https://wiki.guildwars2.com/images/thumb/0/04/Bastion_of_the_Penitent_loading_screen.jpg/300px-Bastion_of_the_Penitent_loading_screen.jpg"},{name:"Hall of Chains (Wing 5)",description:"The fifth raid wing, featuring Soulless Horror, River of Souls, Statues of Grenth, and Dhuum.",bosses:["Soulless Horror","River of Souls","Statues of Grenth","Dhuum"],imageUrl:"https://wiki.guildwars2.com/images/thumb/4/4f/Hall_of_Chains_loading_screen.jpg/300px-Hall_of_Chains_loading_screen.jpg"},{name:"Mythwright Gambit (Wing 6)",description:"The sixth raid wing, featuring Conjured Amalgamate, Twin Largos, and Qadim.",bosses:["Conjured Amalgamate","Twin Largos","Qadim"],imageUrl:"https://wiki.guildwars2.com/images/thumb/f/f2/Mythwright_Gambit_loading_screen.jpg/300px-Mythwright_Gambit_loading_screen.jpg"},{name:"The Key of Ahdashim (Wing 7)",description:"The seventh raid wing, featuring Cardinal Adina, Cardinal Sabir, and Qadim the Peerless.",bosses:["Cardinal Adina","Cardinal Sabir","Qadim the Peerless"],imageUrl:"https://wiki.guildwars2.com/images/thumb/8/8d/The_Key_of_Ahdashim_loading_screen.jpg/300px-The_Key_of_Ahdashim_loading_screen.jpg"},{name:"Mount Balrior (Wing 8)",description:"The eighth raid wing, featuring Greer, Decima, and Ura.",bosses:["Greer","Decima","Ura"],imageUrl:"https://wiki.guildwars2.com/images/thumb/5/5f/Dragonstorm_loading_screen.jpg/300px-Dragonstorm_loading_screen.jpg"}];log("Adding wings back including Wing 8...","info");let t=0;for(let i of e){let n=a.add(i);n.onsuccess=function(){t++,log(`Added wing: ${i.name}`,"success"),t===e.length&&(log("All wings added successfully","success"),log("Please go back to the main app and refresh the page to see the changes","info"))},n.onerror=function(e){log(`Error adding wing ${i.name}: ${e.target.error}`,"error")}}}},n.onerror=function(e){log("Error getting raid wings: "+e.target.error,"error")},i.oncomplete=function(){log("Transaction completed","success")}}}document.getElementById("resetBtn").addEventListener("click",forceAddWing8),document.getElementById("backBtn").addEventListener("click",function(){window.location.href=window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/"))||"."});</script>

